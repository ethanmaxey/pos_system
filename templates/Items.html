{% extends 'home.html' %} 
{% block content %} 


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Products</title>
</head>

<div class = "emp-body">
    <center>
        <h1>Products Table</h1>
    </center>

    {% for message in messages %}
        <div class="container-fluid p-0">
        <div class="alert {{ message.tags }} alert-dismissible" role="alert" >

            {% comment %} Close button doesnt work {% endcomment %}
            
            {% comment %} <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="True">&times;</span>
            </button> {% endcomment %}
            {{ message }}
        </div>
        </div>
    {% endfor %}

    <strong>
        <a class = "add-btn" href ="/add_product"> <button type="button" class="btn btn-success">Add Products</button> </a>
    </strong>
    <center>
        <table border=1 width=1200px class="table table-inverse">
            <thead class="thead-primary">
                <tr>
                    <th class="table-primary">Product ID</th>
                    <th class="table-primary">Product Name</th>
                    <th class="table-primary">Price</th>
                    <th class="table-primary">Description</th>
                    <th class="table-primary">Amount</th>
                    <th class="table-primary">Delete</th>
                    <th class="table-primary">Update</th>
                    <th class="table-primary">Purchase</th>
                </tr>
            </thead>
            <tbody>
                {% for pro in products %} 
                <tr>
                    <td>{{pro.id}}</td>
                    <td>{{pro.name}}</td>
                    <td>{{pro.price}}</td>
                    <td>{{pro.description}}</td>
                    <td>{{pro.amount}}</td>
                    <td><a href="/deleteProduct/{{ pro.id }}"><button type="button" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this?')" 
                        >Delete</button></a></td>
                    <td><a href="/updateProd/{{ pro.id }}"><button type="button" class="btn btn-primary">Update</button></a></td>
                    <td><a href="/buyProd/{{ pro.id }}"><button type="button" class="btn btn-success">Purchase</button></a></td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
    </center>
</div>
{% endblock %}